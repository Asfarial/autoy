{% extends "layout.html" %}

{% block content %}
    <div class="container" >
        <div style="max-width: 600px; margin: 50px auto">
        <h1>Password Change Form</h1>
        {% if messages %}
            {% for message in messages %}
            <div class="my-5 alert alert-{% if message.tags == 'success' %}success{% else %}danger{% endif %}">
                <h5 class="m-0">
                        {{ message }}

                </h5>
            </div>
            {% endfor %}
        {% endif %}
        {% if form.errors %}
        <div class="my-5 alert alert-danger">
            <h5 class="m-0">
                {% for key, error in form.errors.items %}
                {{ error }}
            {% endfor %}
            </h5>
        </div>
        {% endif %}
        <form method="post">
            {% csrf_token %}
            <table>
                {% for field in form %}
            <tr>
                <td style="float:right">{{ field.label_tag }}</td>
                <td>{{ field }}</td>
            </tr>
                {% endfor %}
                                    <tr>
                <td></td>
                <td><input type="button" class="show-password" value="SHOW" onclick="myFunction()" id="show-hide"></td>
            </tr>
                <tr>
                <td><input type="submit" onclick="window.location.href='{% url 'accounts:profile' %}';" value="Back" class="login-button"
                       style="display: inline-block; float: right"></td>
                <td><input style="float:right" class="login-button" name="reset" type="submit" value="Submit"></td>
            </tr>
            </table>
        </form>
        </div>
    </div>

            <script>
    function myFunction() {
  var x1 = document.getElementById("id_new_password1");
  var x2 = document.getElementById("id_new_password2");
  var x3 = document.getElementById("id_old_password");
  var y = document.getElementById("show-hide");
  if (x1.type === "password") {
    x1.type = "text";
    x2.type = "text";
    x3.type = "text";
    y.value = "HIDE"
  } else {
    x1.type = "password";
    x2.type = "password";
    x3.type = "password";
    y.value = "SHOW"
  }


}
</script>
{% endblock %}